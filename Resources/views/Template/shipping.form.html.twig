<% var disabled = isEditable ? '' : 'disabled' %>

<link rel="stylesheet" type="text/css" href="/bundles/sulusalesshipping/css/main.min.css"/>
<link rel="stylesheet" type="text/css" href="/bundles/sulusalescore/css/main.min.css"/>
<div class="order-form-container <%= disabled %>">
    <form id="order-form" class="form-horizontal">
        <input type="hidden" data-mapper-property="id"/>

        <div class="grid-row">

            <div class="grid-row small changeListener">
                <div class="grid-col-6">
                    <div class="form-group">
                        <label for="account" class="required"><%=translate('salesorder.orders.account')%></label>
                        <div id="account" data-form="true" data-mapper-property="order"></div>
                    </div>
                </div>
                <div class="grid-col-6">
                    <div class="form-group">
                        <label for="commission"><%=translate('salesorder.orders.commission')%></label>
                        <input id="commission" class="form-element" type="text" data-mapper-property="commission" <%= disabled %>/>
                    </div>
                </div>
            </div>

            <div class="grid-row small changeListener">
                <div class="grid-col-6">
                    <div class="form-group">
                        <label for="contact" class="required"><%=translate('salesshipping.shippings.contact')%></label>
                        <div id="contact" data-form="true" data-mapper-property="order"></div>
                    </div>
                </div>
                <div class="grid-col-6">
                    <div class="form-group changeListener">
                        <label for="shipping-number"><%=translate('salesshipping.shippings.number')%></label>
                        <input id="shipping-number" class="form-element" type="text" data-mapper-property="shippingNumber" <%= disabled %>/>
                    </div>
                </div>
            </div>

            {#<div class="grid-row small changeListener">#}
                {#<div class="grid-col-6">#}
                    {#<div class="form-group">#}
                        {#<label for="responsible-contact-select" class="required"><%=translate('salesshipping.shippings.responsibleContact')%></label>#}

                        {#<div id="responsible-contact-select"#}
                             {#data-aura-component="select@husky"#}
                             {#data-aura-data='{{ systemUser|json_encode()|raw }}'#}
                             {#data-aura-default-label="<%=translate('public.please-choose')%>"#}
                             {#data-aura-value-name="fullName"#}
                             {#data-aura-multiple-select="false"#}
                             {#data-aura-instance-name="responsible-contact-select"#}
                             {#data-aura-disabled="<%= !isEditable %>"#}
                             {#data-type="husky-select"#}
                             {#data-mapper-property="responsibleContact"#}
                             {#data-validation-required="true"#}
                             {#data-form="true">#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}

                {#<div class="grid-col-6">#}
                    {#<div class="form-group">#}
                        {#<label for="cost-centre"><%=translate('salesshipping.shippings.costCentre')%></label>#}
                        {#<input id="cost-centre" class="form-element" type="text" data-mapper-property="costCentre" <%= disabled %>/>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}

            {#<div class="grid-row changeListener">#}
                {#<div class="grid-col-6">#}
                    {#<div class="form-group">#}
                        {#<label for="tax-free"><%=translate('salesshipping.shippings.taxFree')%></label>#}

                        {#<div>#}
                            {#<div class="custom-checkbox">#}
                                {#<input class="form-element husky-validate" type="checkbox" id="tax-free"#}
                                       {#data-mapper-property="taxfree" <%= disabled %>>#}
                                {#<span class="icon"></span>#}
                            {#</div>#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
                {#<div class="grid-col-6"></div>#}
            {#</div>#}

            {#<div class="grid-row small">#}
                {#<div class="grid-col-12">#}
                    {#<div class="form-group">#}
                        {#<label for="delivery-address" class="required"><%=translate('address.delivery')%></label>#}

                        {#<div id="delivery-address"#}
                             {#data-aura-component="editable-data-row@sulusalescore"#}
                             {#data-form="true"#}
                             {#data-aura-view="address"#}
                             {#data-mapper-property="deliveryAddress"#}
                             {#data-validation-required="true"#}
                             {#data-aura-instance-name="delivery-address"#}
                             {#data-aura-disabled="<%= !isEditable %>"#}
                             {#data-type="editableDataRow">#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}

            {#<div class="grid-row small">#}
                {#<div class="grid-col-12">#}
                    {#<div class="form-group">#}
                        {#<label for="invoice-address" class="required"><%=translate('address.invoice')%></label>#}

                        {#<div id="invoice-address"#}
                             {#data-aura-component="editable-data-row@sulusalescore"#}
                             {#data-form="true"#}
                             {#data-mapper-property="invoiceAddress"#}
                             {#data-aura-view="address"#}
                             {#data-validation-required="true"#}
                             {#data-aura-instance-name="invoice-address"#}
                             {#data-aura-disabled="<%= !isEditable %>"#}
                             {#data-type="editableDataRow">#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}

            {#<div class="grid-row small changeListener">#}
                {#<div class="grid-col-12">#}
                    {#<div class="form-group">#}
                        {#<label for="delivery-terms-select"><%=translate('contact.termsOfDelivery')%></label>#}

                        {#<div id="delivery-terms-select"#}
                             {#data-aura-component="select@husky"#}
                             {#data-aura-deselect-field="select.no-choice"#}
                             {#data-aura-data='{{ termsOfDelivery|json_encode()|raw }}'#}
                             {#data-aura-default-label="<%=translate('public.please-choose')%>"#}
                             {#data-aura-multiple-select="false"#}
                             {#data-aura-instance-name="delivery-terms"#}
                             {#data-aura-pre-selected-elements="[]"#}
                             {#data-aura-disabled="<%= !isEditable %>"#}
                             {#data-type="husky-select"#}
                             {#data-mapper-property="termsOfDelivery"#}
                             {#data-validation-required="false"#}
                             {#data-form="true">#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
            {#<div class="grid-row small changeListener">#}
                {#<div class="grid-col-12">#}
                    {#<div class="form-group">#}
                        {#<label for="delivery-terms-select"><%=translate('contact.termsOfPayment')%></label>#}

                        {#<div id="payment-terms-select"#}
                             {#data-aura-component="select@husky"#}
                             {#data-aura-deselect-field="select.no-choice"#}
                             {#data-aura-data='{{ termsOfPayment|json_encode()|raw }}'#}
                             {#data-aura-default-label="<%=translate('public.please-choose')%>"#}
                             {#data-aura-multiple-select="false"#}
                             {#data-aura-instance-name="payment-terms"#}
                             {#data-aura-pre-selected-elements="[]"#}
                             {#data-aura-disabled="<%= !isEditable %>"#}
                             {#data-type="husky-select"#}
                             {#data-mapper-property="termsOfPayment"#}
                             {#data-validation-required="false"#}
                             {#data-form="true">#}
                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
        </div>
        {#<div class="changeListener">#}
            {#<div id="shipping-items"#}
                 {#data-aura-component="item-table@sulusalescore"#}
                 {#data-aura-editable="<%= isEditable %>"#}
                 {#data-form="true"#}
                 {#data-type="itemTable"#}
                 {#data-mapper-property="items">#}
            {#</div>#}
        {#</div>#}
    </form>
</div>

{% block data %}
    <script type="text/javascript">
        (function() {
            App.emit('sulu.salesshipping.set-shipping-status', {{ shippingStatus |json_encode()|raw }});
        })();
    </script>
{% endblock %}
